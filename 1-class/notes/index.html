<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Motivation and Basics of Blockchain Infrastructure</title>

    <meta name="author" content="Dhruvin Parikh">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="../../reveal.js/css/reveal.css">
    <link rel="stylesheet" href="../../reveal.js/css/theme/black.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="../../reveal.js/lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? '../../reveal.js/css/print/pdf.css' : '../../reveal.js/css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="../reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->

    <style>
      .reveal .slides h1, .reveal .slides h2, .reveal .slides h3 {
        text-transform: none;
      }

      .two-column {
        display: flex;
        flex-wrap: wrap;
      }

      .two-column em {
        margin: 20px;
      }

      .reveal .big-and-bold {
        font-weight: bold;
        font-size: 135%;
      }

      .reveal .shrunk-a-bit {
        font-size: 90%;
      }

      .reveal .shrunk-a-bit pre {
        width: 100%;
      }

      .reveal pre {
        width: 100%;
      }

      .reveal .highlight {
        color: yellow;
        font-weight: bold;
      }

      .reveal .highlightRed {
        color: red;
        font-weight: bold;
      }
    </style>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">

<!------------------------------------------------------->



<section data-markdown><script type="text/template">

## CSBC 2000 - Essentials of Blockchain Development and Security

### Class 1: Motivation and Basics of Blockchain Infrastructure

*Dhruvin Parikh*

</script></section>

<section data-markdown><script type="text/template">

*"electronic digital documents are so easy to tamper with, and the change need not leave any telltale sign on the physical medium. What is needed is a method of time-stamping digital documents with the following two properties. First, we must find a way to time-stamp the data itself, without any reliance on the characteristics of the medium on which the data appears, so that it is impossible to change even one bit of the document without the change being apparent. Second, it should be impossible to stamp a document with a time and data different from the actual one"* - Haber, Stornetta (1991)
</script></section>


<section data-markdown><script type="text/template">

## History Of Blockchain
* Bitcoin white paper by Satoshi Nakamoto in 2009
* Notable additions: Incentive layer and Proof-of-work consensus
* Ethereum white paper by Vitalik Buterin in 2013, extending Bitcoin with a state machine model

</script></section>

<section data-markdown><script type="text/template">

## Money
* Bartering
* Agreed upon unit of value
* Economic definitions Of Currency backing in 1900 - 1999 :
 * Gold standard  ~ 1945
 * Bretton - Woods ~ 1975
 * ?? (2020)

</script></section>

<section data-markdown><script type="text/template">

## Bitcoin
* Currency : History of transactions!
* It takes "work" to update and maintain the ledger
* Miners are incentivized to put in the "work" with rewards
 * There is a limit of 21mn Bitcoins that can exist
 * Halving: works as a synthetic central bank

</script></section>

<section data-markdown><script type="text/template">

## Blockchain

![blockchain](./blockchain.jpeg)

</script></section>

<section data-markdown><script type="text/template">

## Block Contents: Transactions
* PKI
* Bitcoin Address
* Sender, Amount, Receiver
* UTXO: Unspent Transaction Output

</script></section>

<section data-markdown><script type="text/template">

## Block Header: Hash
* Unique fingerprint of this block
* Combines various other parts of the block to ensure uniqueness
* Each block stores the previous block's hash, and uses it to compute its own hash
* Transactions can be hashed sequentially but there's a better way 
 * Merkle Trees next week

</script></section>


<section data-markdown><script type="text/template">

## Block Header: Proof-of-Work
* A quick primer on SHA and hashing: 
* Serves as a fingerprint
 * Pseudorandom bit generator
 * 2^128≈3.6×10^13 years. In comparison, our universe is only about 13.7×10^9 years old
* Setting expectations on SHA is the basis of PoW 
 * As we saw, very difficult to compute
 * However, very easy to verify!

</script></section>

<section data-markdown><script type="text/template">

## Block Header : Others stuff
* Timestamp; this is what Haber and Stornetta wanted to solve
* Block height, which is the index of the block

</script></section>

<section data-markdown><script type="text/template">

## Block Contents: UTXO
* How did Bitcoin start from the first block? 
 * Satoshi gave people BTC
 * Miners received block rewards
* What happens after
 * Value moves around in txs
 * Only unspent outputs are tracked

</script></section>

<section data-markdown><script type="text/template">

15 minute break

</script></section>


<section data-markdown><script type="text/template">

## Block Contents: UTXO

![](./transaction.png)

</script></section>


<section data-markdown><script type="text/template">

## Block Contents: UTXO

* A transaction Output consists of a cryptographic lock and a value. For now, you can imagine that the outputs are somehow locked and the input provides a key to unlock them. The value is simply the amount in satoshis (1 sat = 10^-8 BTC) that is locked inside the output.

</script></section>

<section data-markdown><script type="text/template">

## Block Contents: UTXO

* Every Transaction input consists of a pointer and an unlocking key. The pointer points back to a previous transaction output. And the key is used to unlock the previous output it points to. Every time an output is successfully unlocked by an input, it is marked inside the blockchain database as “spent”.

</script></section>

<section data-markdown><script type="text/template">

## Block Contents: UTXO

![](./transaction1.png) 

</script></section>

<section data-markdown><script type="text/template">

## Genesis Block

* The first block in the chain is termed as the genesis block
* It contains all the initialization parameters for the rest of the chain

</script></section>

<section data-markdown><script type="text/template">

## Genesis Block

<img src="genesis.png" width="600">

</script></section>

<section data-markdown><script type="text/template">

## Addresses and Keys

* If you own some Bitcoin, you will possess the following:
 * A public key: Used to verify your transactions on the blockchain; used to generate the bitcoin address
 * A private key: Required for you to execute transfer of funds from your account
 * A bitcoin address: Represents your Bitcoins; others can send/receive funds via your address

</script></section>

<section data-markdown><script type="text/template">
## not your keys, not your coins

* A Bitcoin wallet generally is just a manager for your keys - this is why you need to control your keys!!

</script></section>

<section data-markdown><script type="text/template">

## Conflicts

* What if there are multiple miners that solve a PoW problem simultaneously?
* Unlikely but not impossible
* This leads to a fork. Multiple blocks could be added to all the subchains in the fork
* We need a mechanism to decide between forks

</script></section>

<section data-markdown><script type="text/template">

## The longest Chain Rule

* The chain with "the most work" is always favored by the network
* That is to say, if there are multiple chains in a fork, the one with the most subsequent work will win

</script></section>

<section data-markdown><script type="text/template">

## The longest Chain Rule

![](longest-chain.png)

</script></section>

<section data-markdown><script type="text/template">

## 51% Attack

* How can an attacker control the Bitcoin blockchain? The rewards are surely lucrative...
* Bitcoin consensus is based on the largest amount of work in a chain
* Why not just get a ton of computers and just make a chain that must be accepted?
* This is very hard as they'd need to put in work to change this history as well as change the current chain WHILE non-malicious peers are still mining

</script></section>

<section data-markdown><script type="text/template">

## Double Spend

* What happens if a user tries to cheat the system?
* They can send Bitcoin to another person and then make a simultaneous
transaction for the same amount to an address they control
* Transactions sit in the mempool while they are waiting to be mined into a block
* If they don't have enough hashing power, either transaction gets accepted and they have no choice but to accept

</script></section>

<section data-markdown><script type="text/template">

## Double Spend

* However, if they do have enough hashing power...
* They can buy something like a nice car while they're accumulating blocks 
* Finally, after they buy the car they can reverse the transaction

</script></section>

<section data-markdown><script type="text/template">

## Double Spend

![](double-spend.png)

</script></section>

<section data-markdown><script type="text/template">

## Hard Fork

* Miners can disagree about consensus/scalability/etc.
* If the sentiment is strong enough, groups of them work together to create a new fork that is a hard fork
* These cannot be reconciled with the new blocks on the "main chain"
* Biggest example: BTC and Bitcoin Cash 
* Others: Bitcoin SV, Bitcoin Gold, ...

</script></section>

<section data-markdown><script type="text/template">

## Hard Fork

![](hardfork.png)

</script></section>

<section data-markdown><script type="text/template">

## End of Class

</script></section>


<!------------------------------------------------------->


      </div>

    </div>

    <script src="../../reveal.js/lib/js/head.min.js"></script>
    <script src="../../reveal.js/js/reveal.js"></script>
    <script src="../../reveal.js/plugin/zoom-js/zoom.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'none', // none/fade/slide/convex/concave/zoom

	math: {
          mathjax: '../lib/MathJax/MathJax.js',
          config: 'TeX-AMS_SVG-full',
	},

        // Optional reveal.js plugins
        dependencies: [
          { src: '../../reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '../../reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '../../reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: '../../reveal.js/plugin/math/math.js', async: true }
        ]
      });

    </script>

  </body>
</html>